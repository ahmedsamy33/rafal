<form [formGroup]="mydForm">
  <div class="modal-header">
    <div class="modal-title" id="exampleModalLabel">
      <div class="modal-icon">

      </div>
      <h5>Upgrate to company</h5>
      <hr>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="bsModalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  </div>
  <!--establishing-->
  <div class="modal-body">
    <div class="form upgrate">
      <select class="text select" [(ngModel)]="company" formControlName="Company" name="country" [ngClass]="{ 'is-invalid': hasError('Company','required'),'is-valid':mydForm.get('Company').touched && !hasError('Company','required')  }"
        placeholder="country">
        <option *ngFor="let company of CompanyArr" value="{{company.code}}">{{ company.value }}</option>
      </select>

      <!--Established comany  -->
      <select class=" text select form-control" *ngIf="company == 'Esta'" formControlName="countryCode" [(ngModel)]="CountryCode"
        [ngClass]="{ 'is-invalid': hasError('countryCode','required'),'is-valid':mydForm.get('countryCode').touched && !hasError('countryCode','required')  }">
        <option *ngFor="let country of countryArr" value="{{country.code}}">{{ country.value }}</option>
      </select>

      <input class="text" type="text" name="text" *ngIf="company != 'Inverst' " formControlName="companyName"
        [(ngModel)]="CompanyName" [ngClass]="{ 'is-invalid': hasError('companyName','required')|| hasError('companyName','maxlength'),
            'is-valid':mydForm.get('companyName').touched && !hasError('companyName','required') &&   !hasError('companyName','maxlength')   }"
        placeholder="Company name" />

      <input class="text" type="date" name="text" *ngIf="company == 'Esta'" formControlName="expireDate" [(ngModel)]="ExpireDate"
       [ngClass]="{ 'is-invalid': hasError('expireDate','required'),
      'is-valid':mydForm.get('expireDate').touched && !hasError('expireDate','required')   }"
        placeholder="Expiry date:" />

      <input class="text" type="text" name="text" *ngIf="company == 'Esta' ||company == 'Inter' " formControlName="websiteLink"
        [(ngModel)]="WebsiteLink"  [ngClass]="{ 'is-invalid': hasError('websiteLink','required')|| hasError('websiteLink','maxlength'),
        'is-valid':mydForm.get('websiteLink').touched && !hasError('websiteLink','required') &&   !hasError('websiteLink','maxlength')   }"
        placeholder="company websit " />

      <input class="text" type="email" name="text" formControlName="mail" [(ngModel)]="Mail"

      [ngClass]="{ 'is-invalid': hasError('mail','required')|| hasError('mail','maxlength') || hasError('mail','pattern'),
      'is-valid':mydForm.get('mail').touched && !hasError('mail','required') &&   !hasError('mail','maxlength') &&   !hasError('mail','pattern')  }"

        placeholder="Email addres " />


      <!--New investor  -->
      <input class="text" type="text" name="text" *ngIf="company == 'Inverst'" formControlName="investnentType"
        [(ngModel)]="InvestnentType" placeholder="Investment type"
        [ngClass]="{ 'is-invalid': hasError('investnentType','required') ,
        'is-valid':mydForm.get('investnentType').touched && !hasError('investnentType','required')  }"
        />
      <select class=" text select form-control" *ngIf="company == 'Inverst'" formControlName="investor" [(ngModel)]="Investor"
      [ngClass]="{ 'is-invalid': hasError('investor','required'),'is-valid':mydForm.get('investor').touched && !hasError('investor','required')  }"
      >
        <option *ngFor="let country of countryArr" value="{{country.code}}">{{ country.value }}</option>

      </select>

      <!-- internal -->
      <select class=" text select form-control" *ngIf="company == 'Inter'" formControlName="investmentCountryCode"
        [(ngModel)]="InvestmentCountryCode"
        [ngClass]="{ 'is-invalid': hasError('investmentCountryCode','required'),'is-valid':mydForm.get('investmentCountryCode').touched && !hasError('investmentCountryCode','required')  }"
        >
        <option *ngFor="let region of RegionArr2" value="{{region.code}}">{{ region.value }}</option>

      </select>




      <!--International company activity -->
      <input class="text" type="text" name="text" *ngIf="company == 'Inter'" 
      formControlName="activity" [(ngModel)]="Activity"
      [ngClass]="{ 'is-invalid': hasError('activity','required') ,
      'is-valid':mydForm.get('activity').touched && !hasError('activity','required')  }"
        placeholder="Activity" />


      <input class="text" type="number" name="text" *ngIf="company == 'Inverst'" formControlName="capital" [(ngModel)]="Capital"
      [ngClass]="{ 'is-invalid': hasError('capital','required') ,
      'is-valid':mydForm.get('capital').touched && !hasError('capital','required')  }"
        placeholder="Capital ($)" />

      <!--nationality-->
      <select class=" text select form-control" *ngIf="company != 'Esta'" (change)="getRegionValue2()" formControlName="nationality"
        [(ngModel)]="Nationality"
        [ngClass]="{ 'is-invalid': hasError('nationality','required'),'is-valid':mydForm.get('nationality').touched && !hasError('nationality','required')  }"
        >
        <option *ngFor="let company of countryArr" value="{{company.code}}">{{ company.value }}</option>

      </select>



      <span *ngIf="company != 'Inverst'">C.R Image</span>
      <div class="custom-file" *ngIf="company != 'Inverst'">
        <input type="file" class="custom-file-input" id="inputGroupFile01" formControlName="imageblob1" [(ngModel)]="imageBlob1"
          [ngClass]="{ 'is-invalid': mydForm.get('imageblob1').touched && mydForm.get('imageblob1').hasError('required'),
      'is-valid':mydForm.get('imageblob1').touched && !mydForm.get('imageblob1').hasError('required') }"
          (change)="processFile($event,1)" accept="image/*" required>
        <label class="custom-file-label" for="inputGroupFile01" *ngIf="pictureName1 == ''">no image choosen </label>
        <label class="custom-file-label" for="inputGroupFile01" *ngIf="pictureName1 != ''">{{pictureName1}} </label>
      </div>

    </div>
  </div>
  <div class="modal-footer upgrate-foot">
    <button type="button" class="btn btn-secondary" (click)="bsModalRef.hide()">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="upgradeService()" [disabled]="!mydForm.valid ">Send</button>
  </div>

</form>
